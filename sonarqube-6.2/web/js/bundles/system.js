webpackJsonp([24],{0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(2),o=a(r),s=n(81),l=a(s),i=n(1322),u=a(i);window.sonarqube.appStarted.then(function(e){var t=document.querySelector(e.el);l.default.render(o.default.createElement(u.default,null),t)})},5:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.join(".");return w[a]||a}function o(e){for(var t=w[e],n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t?a.reduce(function(e,t,n){return e.replace("{"+n+"}",t)},t):e+"."+a.join(".")}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.join(".");return null!=w[a]}function l(){return window.navigator.languages?window.navigator.languages[0]:window.navigator.language}function i(e){var t="/api/l10n/index";return(0,g.request)(t).setData(e).submit().then(function(e){switch(e.status){case 200:return e.json();case 304:return JSON.parse(localStorage.getItem("l10n.bundle"));case 401:return window.location=window.baseUrl+"/sessions/new?return_to="+encodeURIComponent(window.location.pathname+window.location.search+window.location.hash),{};default:throw new Error("Unexpected status code: "+e.status)}})}function u(){var e=localStorage.getItem("l10n.bundle");if(!e)return!1;try{var t=JSON.parse(e);return null!=t&&"object"===("undefined"==typeof t?"undefined":h(t))}catch(n){return!1}}function c(){var e=l(),t=localStorage.getItem("l10n.locale");t!==e&&localStorage.removeItem("l10n.timestamp");var n=localStorage.getItem("l10n.timestamp"),a={};return e&&(a.locale=e),null!==n&&u()&&(a.ts=n),i(a).then(function(t){try{var n=(0,b.default)().format("YYYY-MM-DDTHH:mm:ssZZ");localStorage.setItem("l10n.timestamp",n),localStorage.setItem("l10n.locale",e),localStorage.setItem("l10n.bundle",JSON.stringify(t))}catch(a){}w=t})}function d(e){w=e}function f(){window.t=r,window.tp=o,window.requestMessages=c}function m(e){var t="dashboard."+e+".name",n=r(t);return n!==t?n:e}function p(e){var t="metric."+e.key+".name",n=r(t);return n!==t?n:e.name}function v(e){var t="metric_domain."+e,n=r(t);return n!==t?n:e}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.translate=r,t.translateWithParameters=o,t.hasMessage=s,t.requestMessages=c,t.resetBundle=d,t.installGlobal=f,t.getLocalizedDashboardName=m,t.getLocalizedMetricName=p,t.getLocalizedMetricDomain=v;var y=n(7),b=a(y),g=n(13),w={}},13:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return"X-XSRF-TOKEN"}function s(){var e="XSRF-TOKEN",t=(0,g.getCookie)(e);return t?t:""}function l(){var e=s();return e?r({},o(),e):{}}function i(e){return new S(e)}function u(e){if(401===e.status)return window.location=window.baseUrl+"/sessions/new?return_to="+encodeURIComponent(window.location.pathname+window.location.search+window.location.hash),{};if(e.status>=200&&e.status<300)return e;var t=new Error(e.status);throw t.response=e,t}function c(e){return e.json()}function d(e,t){return i(e).setData(t).submit().then(u).then(c)}function f(e,t){return i(e).setMethod("POST").setData(t).submit().then(u).then(c)}function m(e,t){return i(e).setMethod("POST").setData(t).submit().then(u)}function p(e,t){return i(e).setMethod("DELETE").setData(t).submit().then(u)}function v(e){return new Promise(function(t){return setTimeout(function(){return t(e)},1200)})}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getCSRFTokenName=o,t.getCSRFTokenValue=s,t.getCSRFToken=l,t.request=i,t.checkStatus=u,t.parseJSON=c,t.getJSON=d,t.postJSON=f,t.post=m,t.requestDelete=p,t.delay=v;var b=n(52),g=n(53),w={method:"GET",credentials:"same-origin"},E={Accept:"application/json"},S=function(){function e(t){a(this,e),this.url=t,this.options={},this.headers={}}return y(e,[{key:"submit",value:function(){var e=this.url,t=h({},w,this.options),n={};return this.data&&(this.data instanceof FormData?t.body=this.data:"GET"===t.method?e+="?"+(0,b.stringify)(this.data):(n["Content-Type"]="application/x-www-form-urlencoded",t.body=(0,b.stringify)(this.data))),t.headers=h({},E,n,this.headers,l()),window.fetch(window.baseUrl+e,t)}},{key:"setMethod",value:function(e){return this.options.method=e,this}},{key:"setData",value:function(e){return this.data=e,this}},{key:"setHeader",value:function(e,t){return this.headers[e]=t,this}}]),e}()},40:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=a(r),s=n(50),l=a(s);t.default=l.default.extend({ui:function(){return{messagesContainer:".js-modal-messages"}},events:function(){return o.default.extend(l.default.prototype.events.apply(this,arguments),{"keydown input,textarea,select":"onInputKeydown","submit form":"onFormSubmit"})},onRender:function(){l.default.prototype.onRender.apply(this,arguments);var e=this;setTimeout(function(){e.$(":tabbable").first().focus()},0)},onInputKeydown:function(e){27===e.keyCode&&this.destroy()},onFormSubmit:function(e){e.preventDefault()},showErrors:function(e,t){var n=this.ui.messagesContainer.empty();o.default.isArray(e)&&e.forEach(function(e){var t='<div class="alert alert-danger">'+e.msg+"</div>";n.append(t)}),o.default.isArray(t)&&t.forEach(function(e){var t='<div class="alert alert-warning">'+e.msg+"</div>";n.append(t)}),this.ui.messagesContainer.scrollParent().scrollTop(0)},showSingleError:function(e){this.showErrors([{msg:e}],[])},disableForm:function(){var e=this.$("form");this.disabledFields=e.find(":input:not(:disabled)"),this.disabledFields.prop("disabled",!0)},enableForm:function(){null!=this.disabledFields&&this.disabledFields.prop("disabled",!1)},showSpinner:function(){this.$(".js-modal-spinner").removeClass("hidden")},hideSpinner:function(){this.$(".js-modal-spinner").addClass("hidden")}})},50:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=a(r),s=n(9),l=a(s),i="modal";t.default=l.default.ItemView.extend({className:"modal",overlayClassName:"modal-overlay",htmlClassName:"modal-open",events:function(){return{"click .js-modal-close":"onCloseClick"}},onRender:function(){var e=this;this.$el.detach().appendTo((0,o.default)("body")),(0,o.default)("html").addClass(this.htmlClassName),this.renderOverlay(),this.keyScope=key.getScope(),key.setScope("modal"),key("escape","modal",function(){return e.destroy(),!1}),this.show(),this.options.large&&this.$el.addClass("modal-large")},show:function(){var e=this;setTimeout(function(){e.$el.addClass("in"),(0,o.default)("."+e.overlayClassName).addClass("in")},0)},onDestroy:function(){(0,o.default)("html").removeClass(this.htmlClassName),this.removeOverlay(),key.deleteScope("modal"),key.setScope(this.keyScope)},onCloseClick:function(e){e.preventDefault(),this.destroy()},renderOverlay:function(){var e=(0,o.default)("."+this.overlayClassName);0===e.length&&(0,o.default)('<div class="'+this.overlayClassName+'"></div>').appendTo((0,o.default)("body"))},removeOverlay:function(){(0,o.default)("."+this.overlayClassName).remove()},attachCloseEvents:function(){var e=this;(0,o.default)("body").on("click."+i,function(){(0,o.default)("body").off("click."+i),e.destroy()})}})},52:function(e,t,n){"use strict";t.decode=t.parse=n(54),t.encode=t.stringify=n(55)},53:function(e,t){"use strict";function n(e){if(r)return r[e];var t=document.cookie.split("; ");return r={},t.forEach(function(e){var t=e.split("="),n=a(t,2),o=n[0],s=n[1];r[o]=s}),r[e]}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(i){r=!0,o=i}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getCookie=n;var r=void 0},54:function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,a,r){t=t||"&",a=a||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var l=1e3;r&&"number"==typeof r.maxKeys&&(l=r.maxKeys);var i=e.length;l>0&&i>l&&(i=l);for(var u=0;u<i;++u){var c,d,f,m,p=e[u].replace(s,"%20"),v=p.indexOf(a);v>=0?(c=p.substr(0,v),d=p.substr(v+1)):(c=p,d=""),f=decodeURIComponent(c),m=decodeURIComponent(d),n(o,f)?Array.isArray(o[f])?o[f].push(m):o[f]=[o[f],m]:o[f]=m}return o}},55:function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,r){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var o=encodeURIComponent(n(r))+a;return Array.isArray(e[r])?e[r].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[r]))}).join(t):r?encodeURIComponent(n(r))+a+encodeURIComponent(n(e)):""}},472:function(e,t,n){"use strict";function a(e){var t="/api/system/change_log_level",n={level:e};return(0,c.post)(t,n)}function r(){var e="/api/system/info";return(0,c.getJSON)(e)}function o(){var e="/api/system/status";return(0,c.getJSON)(e)}function s(){var e="/api/system/restart";return(0,c.post)(e)}function l(e){setTimeout(function(){o().then(function(t){"UP"===t.status?e():l(e)}).catch(function(){return l(e)})},d)}function i(){return new Promise(function(e){return l(e)})}function u(){return s().then(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=a,t.getSystemInfo=r,t.getStatus=o,t.restart=s,t.restartAndWait=u;var c=n(13),d=2e3},615:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),o=a(r),s=n(665),l=a(s),i=n(664),u=a(i),c=n(472),d=o.default.extend({template:l.default,restartingTemplate:u.default,initialize:function(){this.restarting=!1},getTemplate:function(){return this.restarting?this.restartingTemplate:this.template},onFormSubmit:function(){o.default.prototype.onFormSubmit.apply(this,arguments),this.restarting=!0,this.render(),(0,c.restartAndWait)().then(function(){document.location.reload()})}});t.default=d},664:function(e,t,n){var a=n(3);e.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<form id="restart-server-form">\n  <div class="modal-head">\n    <h2>Restart Server</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <p class="spacer-top spacer-bottom text-center">\n      Server is restarting. This page will be automatically refreshed.\n    </p>\n    <p class="big-spacer-top spacer-bottom text-center">\n      <i class="spinner"></i>\n    </p>\n  </div>\n</form>\n'},useData:!0})},665:function(e,t,n){var a=n(3);e.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){return'<form id="restart-server-form">\n  <div class="modal-head">\n    <h2>Restart Server</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <p class="spacer-top spacer-bottom">\n      Are you sure you want to restart the server?\n    </p>\n  </div>\n  <div class="modal-foot">\n    <button id="restart-server-submit">Restart</button>\n    <a href="#" class="js-modal-close" id="restart-server-cancel">Cancel</a>\n  </div>\n</form>\n'},useData:!0})},757:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(2),s=a(o),l=n(1319),i=a(l),u=n(1321),c=a(u),d=n(1320),f=a(d);t.default=s.default.createClass({displayName:"item-value",render:function(){if("Logs Level"===this.props.name)return s.default.createElement(f.default,{value:this.props.value});var e=this.props.value,t=void 0;switch(r(this.props.value)){case"boolean":t=s.default.createElement(i.default,{value:e});break;case"object":t=s.default.createElement(c.default,{value:e});break;default:t=s.default.createElement("code",null,e)}return t}})},1319:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=a(r);t.default=o.default.createClass({displayName:"item-boolean",render:function(){return this.props.value?o.default.createElement("i",{className:"icon-check"}):o.default.createElement("i",{className:"icon-delete"})}})},1320:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=a(r),s=n(472),l=n(5),i=["INFO","DEBUG","TRACE"];t.default=o.default.createClass({displayName:"item-log-level",getInitialState:function(){return{level:this.props.value}},onChange:function(){var e=this,t=this.refs.select.value;(0,s.setLogLevel)(t).then(function(){e.setState({level:t})})},render:function(){var e=i.map(function(e){return o.default.createElement("option",{key:e,value:e},e)}),t="INFO"!==this.state.level?o.default.createElement("div",{className:"alert alert-danger spacer-top",style:{wordBreak:"normal"}},(0,l.translate)("system.log_level.warning")):null;return o.default.createElement("div",null,o.default.createElement("select",{ref:"select",onChange:this.onChange,value:this.state.level},e),t)}})},1321:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=a(r),s=n(757),l=a(s);t.default=o.default.createClass({displayName:"item-object",render:function(){var e=this,t=Object.keys(this.props.value).map(function(t){return o.default.createElement("tr",{key:t},o.default.createElement("td",{className:"thin nowrap"},t),o.default.createElement("td",null,o.default.createElement(l.default,{value:e.props.value[t]})))});return o.default.createElement("table",{className:"data"},o.default.createElement("tbody",null,t))}})},1322:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=a(r),s=n(2),l=a(s),i=n(472),u=n(1323),c=a(u),d=n(5),f=n(615),m=a(f),p=["SonarQube","Database","System","Elasticsearch State","Elasticsearch","Compute Engine Tasks","Compute Engine State","Compute Engine Database Connection","JvmProperties"];t.default=l.default.createClass({displayName:"main",componentDidMount:function(){var e=this;(0,i.getSystemInfo)().then(function(t){return e.setState({sections:e.parseSections(t)})})},parseSections:function(e){var t=this,n=Object.keys(e).map(function(n){return{name:n,items:t.parseItems(e[n])}});return this.orderSections(n)},orderSections:function(e){return o.default.sortBy(e,function(e){return p.indexOf(e.name)})},parseItems:function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return this.orderItems(t)},orderItems:function(e){return o.default.sortBy(e,"name")},handleServerRestart:function(){(new m.default).render()},render:function(){var e=null;return this.state&&this.state.sections&&(e=this.state.sections.filter(function(e){return p.indexOf(e.name)>=0}).map(function(e){return l.default.createElement(c.default,{key:e.name,section:e.name,items:e.items})})),l.default.createElement("div",{className:"page"},l.default.createElement("header",{className:"page-header"},l.default.createElement("h1",{className:"page-title"},(0,d.translate)("system_info.page")),l.default.createElement("div",{className:"page-actions"},l.default.createElement("a",{href:window.baseUrl+"/api/system/info",id:"download-link"},"Download"),l.default.createElement("div",{className:"display-inline-block dropdown big-spacer-left"},l.default.createElement("button",{"data-toggle":"dropdown"},"Logs ",l.default.createElement("i",{className:"icon-dropdown"})),l.default.createElement("ul",{className:"dropdown-menu"},l.default.createElement("li",null,l.default.createElement("a",{href:window.baseUrl+"/api/system/logs?process=app",id:"logs-link"},"Main Process")),l.default.createElement("li",null,l.default.createElement("a",{href:window.baseUrl+"/api/system/logs?process=ce",id:"ce-logs-link"},"Compute Engine")),l.default.createElement("li",null,l.default.createElement("a",{href:window.baseUrl+"/api/system/logs?process=es",id:"es-logs-link"},"Elasticsearch")),l.default.createElement("li",null,l.default.createElement("a",{href:window.baseUrl+"/api/system/logs?process=web",id:"web-logs-link"},"Web Server")))),l.default.createElement("button",{id:"restart-server-button",className:"big-spacer-left",onClick:this.handleServerRestart},"Restart Server"))),e)}})},1323:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=a(r),s=n(757),l=a(s);t.default=o.default.createClass({displayName:"section",render:function(){var e=this.props.items.map(function(e){return o.default.createElement("tr",{key:e.name},o.default.createElement("td",{className:"thin"},o.default.createElement("div",{style:{width:"25vw",overflow:"hidden",textOverflow:"ellipsis"}},e.name)),o.default.createElement("td",{style:{wordBreak:"break-all"}},o.default.createElement(l.default,{name:e.name,value:e.value})))});return o.default.createElement("div",{className:"big-spacer-bottom"},o.default.createElement("h3",{className:"spacer-bottom"},this.props.section),o.default.createElement("table",{className:"data zebra",id:this.props.section},o.default.createElement("tbody",null,e)))}})}});