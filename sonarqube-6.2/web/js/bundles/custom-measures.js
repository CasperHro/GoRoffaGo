webpackJsonp([21],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(9),o=r(a),i=n(1068),s=r(i),u=n(1065),l=r(u),c=n(1067),d=r(c),f=n(1071),h=r(f),m=n(1069),p=r(m),v=new o.default.Application,y=function(e){this.layout=new s.default({el:e.el}),this.layout.render(),this.customMeasures=new l.default({projectId:e.component.id}),this.headerView=new d.default({collection:this.customMeasures,projectId:e.component.id}),this.layout.headerRegion.show(this.headerView),this.listView=new h.default({collection:this.customMeasures}),this.layout.listRegion.show(this.listView),this.listFooterView=new p.default({collection:this.customMeasures}),this.layout.listFooterRegion.show(this.listFooterView),this.customMeasures.fetch()};v.on("start",function(e){y.call(v,e)}),window.sonarqube.appStarted.then(function(e){return v.start(e)})},1:function(e,t){"use strict";e.exports=function(){var e=Array.prototype.slice.call(arguments,0,-1);return window.t.apply(this,e)}},5:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(".");return w[r]||r}function o(e){for(var t=w[e],n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t?r.reduce(function(e,t,n){return e.replace("{"+n+"}",t)},t):e+"."+r.join(".")}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(".");return null!=w[r]}function s(){return window.navigator.languages?window.navigator.languages[0]:window.navigator.language}function u(e){var t="/api/l10n/index";return(0,g.request)(t).setData(e).submit().then(function(e){switch(e.status){case 200:return e.json();case 304:return JSON.parse(localStorage.getItem("l10n.bundle"));case 401:return window.location=window.baseUrl+"/sessions/new?return_to="+encodeURIComponent(window.location.pathname+window.location.search+window.location.hash),{};default:throw new Error("Unexpected status code: "+e.status)}})}function l(){var e=localStorage.getItem("l10n.bundle");if(!e)return!1;try{var t=JSON.parse(e);return null!=t&&"object"===("undefined"==typeof t?"undefined":v(t))}catch(n){return!1}}function c(){var e=s(),t=localStorage.getItem("l10n.locale");t!==e&&localStorage.removeItem("l10n.timestamp");var n=localStorage.getItem("l10n.timestamp"),r={};return e&&(r.locale=e),null!==n&&l()&&(r.ts=n),u(r).then(function(t){try{var n=(0,b.default)().format("YYYY-MM-DDTHH:mm:ssZZ");localStorage.setItem("l10n.timestamp",n),localStorage.setItem("l10n.locale",e),localStorage.setItem("l10n.bundle",JSON.stringify(t))}catch(r){}w=t})}function d(e){w=e}function f(){window.t=a,window.tp=o,window.requestMessages=c}function h(e){var t="dashboard."+e+".name",n=a(t);return n!==t?n:e}function m(e){var t="metric."+e.key+".name",n=a(t);return n!==t?n:e.name}function p(e){var t="metric_domain."+e,n=a(t);return n!==t?n:e}Object.defineProperty(t,"__esModule",{value:!0});var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.translate=a,t.translateWithParameters=o,t.hasMessage=i,t.requestMessages=c,t.resetBundle=d,t.installGlobal=f,t.getLocalizedDashboardName=h,t.getLocalizedMetricName=m,t.getLocalizedMetricDomain=p;var y=n(7),b=r(y),g=n(13),w={}},11:function(e,t){"use strict";e.exports=function(e,t,n){return e==t?n.fn(this):n.inverse(this)}},13:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return"X-XSRF-TOKEN"}function i(){var e="XSRF-TOKEN",t=(0,g.getCookie)(e);return t?t:""}function s(){var e=i();return e?a({},o(),e):{}}function u(e){return new M(e)}function l(e){if(401===e.status)return window.location=window.baseUrl+"/sessions/new?return_to="+encodeURIComponent(window.location.pathname+window.location.search+window.location.hash),{};if(e.status>=200&&e.status<300)return e;var t=new Error(e.status);throw t.response=e,t}function c(e){return e.json()}function d(e,t){return u(e).setData(t).submit().then(l).then(c)}function f(e,t){return u(e).setMethod("POST").setData(t).submit().then(l).then(c)}function h(e,t){return u(e).setMethod("POST").setData(t).submit().then(l)}function m(e,t){return u(e).setMethod("DELETE").setData(t).submit().then(l)}function p(e){return new Promise(function(t){return setTimeout(function(){return t(e)},1200)})}Object.defineProperty(t,"__esModule",{value:!0});var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getCSRFTokenName=o,t.getCSRFTokenValue=i,t.getCSRFToken=s,t.request=u,t.checkStatus=l,t.parseJSON=c,t.getJSON=d,t.postJSON=f,t.post=h,t.requestDelete=m,t.delay=p;var b=n(52),g=n(53),w={method:"GET",credentials:"same-origin"},_={Accept:"application/json"},M=function(){function e(t){r(this,e),this.url=t,this.options={},this.headers={}}return y(e,[{key:"submit",value:function(){var e=this.url,t=v({},w,this.options),n={};return this.data&&(this.data instanceof FormData?t.body=this.data:"GET"===t.method?e+="?"+(0,b.stringify)(this.data):(n["Content-Type"]="application/x-www-form-urlencoded",t.body=(0,b.stringify)(this.data))),t.headers=v({},_,n,this.headers,s()),window.fetch(window.baseUrl+e,t)}},{key:"setMethod",value:function(e){return this.options.method=e,this}},{key:"setData",value:function(e){return this.data=e,this}},{key:"setHeader",value:function(e,t){return this.headers[e]=t,this}}]),e}()},18:function(e,t,n){"use strict";var r=n(23);e.exports=function(e,t){return(0,r.formatMeasure)(e,t)}},23:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=h(t);return f(e,n)}function o(e,t){var n=m(t);return f(e,n)}function i(e){return(0,G.translate)("metric",e,"name")}function s(e){var t=H.default.groupBy(e,"domain"),n=H.default.map(t,function(e,t){return{domain:t,metrics:H.default.sortBy(e,"name")}});return H.default.sortBy(n,"domain")}function u(e){return"INT"===e?"SHORT_INT":"WORK_DUR"===e?"SHORT_WORK_DUR":e}function l(e,t){return e.map(function(e){var n=t.find(function(t){return t.key===e.metric});return L({},e,{metric:n})})}function c(e,t){var n=e.periods,r=n.find(function(e){return e.index===t});return r?r.value:null}function d(e){return 0===e.indexOf("new_")}function f(e,t){return null!=e&&""!==e&&null!=t?t(e):null}function h(e){var t={INT:y,SHORT_INT:g,FLOAT:_,PERCENT:O,WORK_DUR:F,SHORT_WORK_DUR:$,RATING:S,LEVEL:C,MILLISEC:j};return t[e]||p}function m(e){var t={INT:b,SHORT_INT:w,FLOAT:M,PERCENT:x,WORK_DUR:U,SHORT_WORK_DUR:q,RATING:v,LEVEL:v,MILLISEC:R};return t[e]||p}function p(e){return e}function v(){return null}function y(e){return(0,W.default)(e).format("0,0")}function b(e){return(0,W.default)(e).format("+0,0")}function g(e){var t="0,0";return e>=1e3&&(t="0.[0]a"),e>=1e4&&(t="0a"),(0,W.default)(e).format(t)}function w(e){var t=g(Math.abs(e));return e<0?"-"+t:"+"+t}function _(e){return(0,W.default)(e).format("0,0.0[0000]")}function M(e){return 0===e?"+0.0":(0,W.default)(e).format("+0,0.0[0000]")}function O(e){return e=parseFloat(e),(0,W.default)(e/100).format("0,0.0%")}function x(e){return e=parseFloat(e),0===e?"+0.0%":(0,W.default)(e/100).format("+0,0.0%")}function S(e){return e=parseInt(e,10),String.fromCharCode(97+e-1).toUpperCase()}function C(e){var t="metric.level."+e,n=(0,G.translate)(t);return t!==n?n:e}function j(e){var t=1e3,n=60*t;if(e>=n){var r=Math.round(e/n);return r+"min"}if(e>=t){var a=Math.round(e/t);return a+"s"}return e+"ms"}function R(e){var t=Math.abs(e),n=j(t);return e<0?"-"+n:"+"+n}function N(e){return e>0}function T(e){return e>.9}function k(e,t){return t>0&&e<10}function I(e){return e>.9}function E(e,t,n){return n>0&&t<10&&0===e}function D(e){return e.length>0?e+" ":e}function P(e,t,n,r){var a="";return N(t)&&(a+=(0,G.translateWithParameters)("work_duration.x_days",e?-1*t:t)),k(t,n)&&(a=D(a),a+=(0,G.translateWithParameters)("work_duration.x_hours",e&&0===a.length?-1*n:n)),E(t,n,r)&&(a=D(a),a+=(0,G.translateWithParameters)("work_duration.x_minutes",e&&0===a.length?-1*r:r)),a}function A(e,t,n,r){if(T(t)){var o=Math.round(t),i=a(e?-1*o:o,"SHORT_INT");return(0,G.translateWithParameters)("work_duration.x_days",i)}if(I(n)){var s=Math.round(n),u=a(e?-1*s:s,"SHORT_INT");return(0,G.translateWithParameters)("work_duration.x_hours",u)}var l=a(e?-1*r:r,"SHORT_INT");return(0,G.translateWithParameters)("work_duration.x_minutes",l)}function F(e){if(0===e||"0"===e)return"0";var t=window.SS.hoursInDay,n=e<0,r=Math.abs(e),a=Math.floor(r/t/60),o=r-a*t*60,i=Math.floor(o/60);return o-=60*i,P(n,a,i,o)}function $(e){if(e=parseInt(e,10),0===e||"0"===e)return"0";var t=window.SS.hoursInDay,n=e<0,r=Math.abs(e),a=r/t/60,o=r-Math.floor(a)*t*60,i=o/60;return o-=60*Math.floor(i),A(n,a,i,o)}function U(e){if(0===e||"0"===e)return"+0";var t=F(e);return"-"!==t[0]?"+"+t:t}function q(e){if(0===e||"0"===e)return"+0";var t=$(e);return"-"!==t[0]?"+"+t:t}function B(){if(Z)return Z;var e=window.SS["sonar.technicalDebt.ratingGrid"],t=e.split(",").map(function(e){return parseFloat(e)}).filter(function(e){return!isNaN(e)});return Z=4===t.length?t:[0,0,0,0]}function V(e){var t=B(),n=t[Math.floor(e)-2];if(e<2)return(0,G.translateWithParameters)("metric.sqale_rating.tooltip.A",a(100*t[0],"PERCENT"));var r=a(e,"RATING");return(0,G.translateWithParameters)("metric.sqale_rating.tooltip",r,a(100*n,"PERCENT"))}function J(e,t){var n=a(t,"RATING");return"sqale_rating"===e?V(t):(0,G.translate)("metric",e,"tooltip",n)}Object.defineProperty(t,"__esModule",{value:!0});var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.formatMeasure=a,t.formatMeasureVariation=o,t.localizeMetric=i,t.groupByDomain=s,t.getShortType=u,t.enhanceMeasuresWithMetrics=l,t.getPeriodValue=c,t.isDiffMetric=d,t.getRatingTooltip=J;var z=n(123),W=r(z),K=n(4),H=r(K),G=n(5),Z=void 0},40:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),i=n(50),s=r(i);t.default=s.default.extend({ui:function(){return{messagesContainer:".js-modal-messages"}},events:function(){return o.default.extend(s.default.prototype.events.apply(this,arguments),{"keydown input,textarea,select":"onInputKeydown","submit form":"onFormSubmit"})},onRender:function(){s.default.prototype.onRender.apply(this,arguments);var e=this;setTimeout(function(){e.$(":tabbable").first().focus()},0)},onInputKeydown:function(e){27===e.keyCode&&this.destroy()},onFormSubmit:function(e){e.preventDefault()},showErrors:function(e,t){var n=this.ui.messagesContainer.empty();o.default.isArray(e)&&e.forEach(function(e){var t='<div class="alert alert-danger">'+e.msg+"</div>";n.append(t)}),o.default.isArray(t)&&t.forEach(function(e){var t='<div class="alert alert-warning">'+e.msg+"</div>";n.append(t)}),this.ui.messagesContainer.scrollParent().scrollTop(0)},showSingleError:function(e){this.showErrors([{msg:e}],[])},disableForm:function(){var e=this.$("form");this.disabledFields=e.find(":input:not(:disabled)"),this.disabledFields.prop("disabled",!0)},enableForm:function(){null!=this.disabledFields&&this.disabledFields.prop("disabled",!1)},showSpinner:function(){this.$(".js-modal-spinner").removeClass("hidden")},hideSpinner:function(){this.$(".js-modal-spinner").addClass("hidden")}})},50:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=r(a),i=n(9),s=r(i),u="modal";t.default=s.default.ItemView.extend({className:"modal",overlayClassName:"modal-overlay",htmlClassName:"modal-open",events:function(){return{"click .js-modal-close":"onCloseClick"}},onRender:function(){var e=this;this.$el.detach().appendTo((0,o.default)("body")),(0,o.default)("html").addClass(this.htmlClassName),this.renderOverlay(),this.keyScope=key.getScope(),key.setScope("modal"),key("escape","modal",function(){return e.destroy(),!1}),this.show(),this.options.large&&this.$el.addClass("modal-large")},show:function(){var e=this;setTimeout(function(){e.$el.addClass("in"),(0,o.default)("."+e.overlayClassName).addClass("in")},0)},onDestroy:function(){(0,o.default)("html").removeClass(this.htmlClassName),this.removeOverlay(),key.deleteScope("modal"),key.setScope(this.keyScope)},onCloseClick:function(e){e.preventDefault(),this.destroy()},renderOverlay:function(){var e=(0,o.default)("."+this.overlayClassName);0===e.length&&(0,o.default)('<div class="'+this.overlayClassName+'"></div>').appendTo((0,o.default)("body"))},removeOverlay:function(){(0,o.default)("."+this.overlayClassName).remove()},attachCloseEvents:function(){var e=this;(0,o.default)("body").on("click."+u,function(){(0,o.default)("body").off("click."+u),e.destroy()})}})},52:function(e,t,n){"use strict";t.decode=t.parse=n(54),t.encode=t.stringify=n(55)},53:function(e,t){"use strict";function n(e){if(a)return a[e];var t=document.cookie.split("; ");return a={},t.forEach(function(e){var t=e.split("="),n=r(t,2),o=n[0],i=n[1];a[o]=i}),a[e]}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getCookie=n;var a=void 0},54:function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,a){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c,d,f,h,m=e[l].replace(i,"%20"),p=m.indexOf(r);p>=0?(c=m.substr(0,p),d=m.substr(p+1)):(c=m,d=""),f=decodeURIComponent(c),h=decodeURIComponent(d),n(o,f)?Array.isArray(o[f])?o[f].push(h):o[f]=[o[f],h]:o[f]=h}return o}},55:function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(a){var o=encodeURIComponent(n(a))+r;return Array.isArray(e[a])?e[a].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[a]))}).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""}},103:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(7),o=r(a);e.exports=function(e){return(0,o.default)(e).format("LL")}},123:function(e,t){var n=!1;(function(){function t(e){this._value=e}function r(e,t,n,r){var a,o,i=Math.pow(10,t);return o=(n(e*i)/i).toFixed(t),r&&(a=new RegExp("0{1,"+r+"}$"),o=o.replace(a,"")),o}function a(e,t,n){var r;return r=t.indexOf("$")>-1?i(e,t,n):t.indexOf("%")>-1?s(e,t,n):t.indexOf(":")>-1?u(e,t):c(e._value,t,n)}function o(e,t){var n,r,a,o,i,s=t,u=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(t.indexOf(":")>-1)e._value=l(t);else if(t===b)e._value=0;else{for("."!==v[y].delimiters.decimal&&(t=t.replace(/\./g,"").replace(v[y].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+v[y].abbreviations.thousand+"(?:\\)|(\\"+v[y].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+v[y].abbreviations.million+"(?:\\)|(\\"+v[y].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+v[y].abbreviations.billion+"(?:\\)|(\\"+v[y].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+v[y].abbreviations.trillion+"(?:\\)|(\\"+v[y].currency.symbol+")?(?:\\))?)?$"),i=0;i<=u.length&&!(c=t.indexOf(u[i])>-1&&Math.pow(1024,i+1));i++);e._value=(c?c:1)*(s.match(n)?Math.pow(10,3):1)*(s.match(r)?Math.pow(10,6):1)*(s.match(a)?Math.pow(10,9):1)*(s.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=c?Math.ceil(e._value):e._value}return e._value}function i(e,t,n){var r,a,o=t.indexOf("$"),i=t.indexOf("("),s=t.indexOf("-"),u="";return t.indexOf(" $")>-1?(u=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(u=" ",t=t.replace("$ ","")):t=t.replace("$",""),a=c(e._value,t,n),o<=1?a.indexOf("(")>-1||a.indexOf("-")>-1?(a=a.split(""),r=1,(o<i||o<s)&&(r=0),a.splice(r,0,v[y].currency.symbol+u),a=a.join("")):a=v[y].currency.symbol+u+a:a.indexOf(")")>-1?(a=a.split(""),a.splice(-1,0,u+v[y].currency.symbol),a=a.join("")):a=a+u+v[y].currency.symbol,a}function s(e,t,n){var r,a="",o=100*e._value;return t.indexOf(" %")>-1?(a=" ",t=t.replace(" %","")):t=t.replace("%",""),r=c(o,t,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,a+"%"),r=r.join("")):r=r+a+"%",r}function u(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)}function l(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function c(e,t,n){var a,o,i,s,u,l,c=!1,d=!1,f=!1,h="",m=!1,p=!1,g=!1,w=!1,_=!1,M="",O="",x=Math.abs(e),S=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],C="",j=!1;if(0===e&&null!==b)return b;if(t.indexOf("(")>-1?(c=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(d=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(m=t.indexOf("aK")>=0,p=t.indexOf("aM")>=0,g=t.indexOf("aB")>=0,w=t.indexOf("aT")>=0,_=m||p||g||w,t.indexOf(" a")>-1?(h=" ",t=t.replace(" a","")):t=t.replace("a",""),x>=Math.pow(10,12)&&!_||w?(h+=v[y].abbreviations.trillion,e/=Math.pow(10,12)):x<Math.pow(10,12)&&x>=Math.pow(10,9)&&!_||g?(h+=v[y].abbreviations.billion,e/=Math.pow(10,9)):x<Math.pow(10,9)&&x>=Math.pow(10,6)&&!_||p?(h+=v[y].abbreviations.million,e/=Math.pow(10,6)):(x<Math.pow(10,6)&&x>=Math.pow(10,3)&&!_||m)&&(h+=v[y].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(M=" ",t=t.replace(" b","")):t=t.replace("b",""),i=0;i<=S.length;i++)if(a=Math.pow(1024,i),o=Math.pow(1024,i+1),e>=a&&e<o){M+=S[i],a>0&&(e/=a);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(O=" ",t=t.replace(" o","")):t=t.replace("o",""),O+=v[y].ordinal(e)),t.indexOf("[.]")>-1&&(f=!0,t=t.replace("[.]",".")),s=e.toString().split(".")[0],u=t.split(".")[1],l=t.indexOf(","),u?(u.indexOf("[")>-1?(u=u.replace("]",""),u=u.split("["),C=r(e,u[0].length+u[1].length,n,u[1].length)):C=r(e,u.length,n),s=C.split(".")[0],C=C.split(".")[1].length?v[y].delimiters.decimal+C.split(".")[1]:"",f&&0===Number(C.slice(1))&&(C="")):s=r(e,null,n),s.indexOf("-")>-1&&(s=s.slice(1),j=!0),l>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v[y].delimiters.thousands)),0===t.indexOf(".")&&(s=""),(c&&j?"(":"")+(!c&&j?"-":"")+(!j&&d?"+":"")+s+C+(O?O:"")+(h?h:"")+(M?M:"")+(c&&j?")":"")}function d(e,t){v[e]=t}function f(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function h(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=f(e),r=f(t);return n>r?n:r},-(1/0))}var m,p="1.5.3",v={},y="en",b=null,g="0,0",w="undefined"!=typeof e&&e.exports;m=function(e){return m.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=m.fn.unformat(e)),new t(Number(e))},m.version=p,m.isNumeral=function(e){return e instanceof t},m.language=function(e,t){if(!e)return y;if(e&&!t){if(!v[e])throw new Error("Unknown language : "+e);y=e}return!t&&v[e]||d(e,t),m},m.languageData=function(e){if(!e)return v[y];if(!v[e])throw new Error("Unknown language : "+e);return v[e]},m.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),m.zeroFormat=function(e){b="string"==typeof e?e:null},m.defaultFormat=function(e){g="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r,a=this.length>>>0,o=!1;for(1<arguments.length&&(r=t,o=!0),n=0;a>n;++n)this.hasOwnProperty(n)&&(o?r=e(r,this[n],n,this):(r=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),m.fn=t.prototype={clone:function(){return m(this)},format:function(e,t){return a(this,e?e:g,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:o(this,e?e:g)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t,r,a){return e+n*t}var n=h.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t,r,a){return e-n*t}var n=h.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t,n,r){var a=h(e,t);return e*a*(t*a)/(a*a)}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t,n,r){var a=h(e,t);return e*a/(t*a)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(m(this._value).subtract(e).value())}},w&&(e.exports=m),"undefined"==typeof ender&&(this.numeral=m),"function"==typeof n&&n.amd&&n([],function(){return m})}).call(this)},520:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),i=n(12),s=r(i);t.default=s.default.Model.extend({idAttribute:"id",urlRoot:function(){return window.baseUrl+"/api/metrics"},sync:function(e,t,n){var r=n||{};return"create"===e&&o.default.defaults(r,{url:this.urlRoot()+"/create",type:"POST",data:o.default.pick(t.toJSON(),"key","name","description","domain","type")}),"update"===e&&o.default.defaults(r,{url:this.urlRoot()+"/update",type:"POST",data:o.default.pick(t.toJSON(),"id","key","name","description","domain","type")}),"delete"===e&&o.default.defaults(r,{url:this.urlRoot()+"/delete",type:"POST",data:{ids:this.id}}),s.default.ajax(r)}})},589:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),i=n(12),s=r(i),u=n(520),l=r(u);t.default=s.default.Collection.extend({model:l.default,url:function(){return window.baseUrl+"/api/metrics/search"},parse:function(e){return this.total=e.total,this.p=e.p,this.ps=e.ps,e.metrics},fetch:function(e){var t=o.default.defaults(e||{},{data:{}});return this.q=t.data.q,t.data.isCustom=!0,s.default.Collection.prototype.fetch.call(this,t)},fetchMore:function(){var e=this.p+1;return this.fetch({add:!0,remove:!1,data:{p:e,ps:this.ps,q:this.q}})},refresh:function(){return this.fetch({reset:!0,data:{q:this.q}})},hasMore:function(){return this.total>this.p*this.ps}})},733:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),i=n(12),s=r(i);t.default=s.default.Model.extend({idAttribute:"id",urlRoot:function(){return window.baseUrl+"/api/custom_measures"},sync:function(e,t,n){var r=n||{};return"create"===e&&o.default.defaults(r,{url:this.urlRoot()+"/create",type:"POST",data:o.default.pick(t.toJSON(),"metricId","value","description","projectId")}),"update"===e&&o.default.defaults(r,{url:this.urlRoot()+"/update",type:"POST",data:o.default.pick(t.toJSON(),"id","value","description")}),"delete"===e&&o.default.defaults(r,{url:this.urlRoot()+"/delete",type:"POST",data:{id:this.id}}),s.default.ajax(r)}})},734:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),i=n(40),s=r(i),u=n(589),l=r(u),c=n(1575),d=r(c);t.default=s.default.extend({template:d.default,initialize:function(){this.metrics=new l.default,this.listenTo(this.metrics,"reset",this.render),this.metrics.fetch({reset:!0})},onRender:function(){s.default.prototype.onRender.apply(this,arguments),this.$('[data-toggle="tooltip"]').tooltip({container:"body",placement:"bottom"}),this.$("#create-custom-measure-metric").select2({width:"250px",minimumResultsForSearch:20})},onDestroy:function(){s.default.prototype.onDestroy.apply(this,arguments),this.$('[data-toggle="tooltip"]').tooltip("destroy")},onFormSubmit:function(){s.default.prototype.onFormSubmit.apply(this,arguments),this.sendRequest()},getAvailableMetrics:function(){var e=this.collection.getTakenMetrics();return this.metrics.toJSON().filter(function(t){return e.indexOf(t.id)===-1})},serializeData:function(){var e=this.getAvailableMetrics(),t=!this.model;return o.default.extend(s.default.prototype.serializeData.apply(this,arguments),{metrics:e,canCreateMetric:!t||e.length>0})}})},1064:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(733),o=r(a),i=n(734),s=r(i);t.default=s.default.extend({sendRequest:function(){var e=this,t=new o.default({metricId:this.$("#create-custom-measure-metric").val(),value:this.$("#create-custom-measure-value").val(),description:this.$("#create-custom-measure-description").val(),projectId:this.options.projectId});return this.disableForm(),t.save(null,{statusCode:{400:null}}).done(function(){e.collection.refresh(),e.destroy()}).fail(function(t){e.enableForm(),e.showErrors(t.responseJSON.errors,t.responseJSON.warnings)})}})},1065:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),i=n(12),s=r(i),u=n(733),l=r(u);t.default=s.default.Collection.extend({model:l.default,initialize:function(e){this.projectId=e.projectId},url:function(){return window.baseUrl+"/api/custom_measures/search"},parse:function(e){return this.total=e.total,this.p=e.p,this.ps=e.ps,e.customMeasures},fetch:function(e){var t=o.default.defaults(e||{},{data:{}});return this.q=t.data.q,t.data.projectId=this.projectId,s.default.Collection.prototype.fetch.call(this,t)},fetchMore:function(){var e=this.p+1;return this.fetch({add:!0,remove:!1,data:{p:e,ps:this.ps,q:this.q}})},refresh:function(){return this.fetch({reset:!0,data:{q:this.q}})},hasMore:function(){return this.total>this.p*this.ps},getTakenMetrics:function(){var e=this.map(function(e){return e.get("metric").id});return o.default.uniq(e)}})},1066:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(40),o=r(a),i=n(1574),s=r(i);t.default=o.default.extend({template:s.default,onFormSubmit:function(){o.default.prototype.onFormSubmit.apply(this,arguments),this.sendRequest()},sendRequest:function(){var e=this,t=this.model.collection;return this.model.destroy({wait:!0,statusCode:{400:null}}).done(function(){t.refresh(),e.destroy()}).fail(function(t){e.showErrors(t.responseJSON.errors,t.responseJSON.warnings)})}})},1067:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(1064),s=r(i),u=n(1576),l=r(u);t.default=o.default.ItemView.extend({template:l.default,events:{"click #custom-measures-create":"onCreateClick"},onCreateClick:function(e){e.preventDefault(),this.createCustomMeasure()},createCustomMeasure:function(){new s.default({collection:this.collection,projectId:this.options.projectId}).render()}})},1068:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(1577),s=r(i);t.default=o.default.LayoutView.extend({template:s.default,regions:{headerRegion:"#custom-measures-header",listRegion:"#custom-measures-list",listFooterRegion:"#custom-measures-list-footer"}})},1069:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=r(a),i=n(9),s=r(i),u=n(1578),l=r(u);t.default=s.default.ItemView.extend({template:l.default,collectionEvents:{all:"render"},events:{"click #custom-measures-fetch-more":"onMoreClick"},onMoreClick:function(e){e.preventDefault(),this.fetchMore()},fetchMore:function(){this.collection.fetchMore()},serializeData:function(){return o.default.extend(s.default.ItemView.prototype.serializeData.apply(this,arguments),{total:this.collection.total,count:this.collection.length,more:this.collection.hasMore()})}})},1070:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(1072),s=r(i),u=n(1066),l=r(u),c=n(1579),d=r(c);t.default=o.default.ItemView.extend({tagName:"tr",template:d.default,events:{"click .js-custom-measure-update":"onUpdateClick","click .js-custom-measure-delete":"onDeleteClick"},onRender:function(){this.$el.attr("data-id",this.model.id),this.$('[data-toggle="tooltip"]').tooltip({container:"body",placement:"bottom"})},onDestroy:function(){this.$('[data-toggle="tooltip"]').tooltip("destroy")},onUpdateClick:function(e){e.preventDefault(),this.updateCustomMeasure()},onDeleteClick:function(e){e.preventDefault(),this.deleteCustomMeasure()},updateCustomMeasure:function(){new s.default({model:this.model,collection:this.model.collection}).render()},deleteCustomMeasure:function(){new l.default({model:this.model}).render()}})},1071:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=r(a),i=n(1070),s=r(i),u=n(1580),l=r(u);t.default=o.default.CompositeView.extend({template:l.default,childView:s.default,childViewContainer:"tbody"})},1072:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(734),o=r(a);t.default=o.default.extend({sendRequest:function(){var e=this;return this.model.set({value:this.$("#create-custom-measure-value").val(),description:this.$("#create-custom-measure-description").val()}),this.disableForm(),this.model.save(null,{statusCode:{400:null}}).done(function(){e.collection.refresh(),e.destroy()}).fail(function(t){e.enableForm(),e.showErrors(t.responseJSON.errors,t.responseJSON.warnings)})}})},1574:function(e,t,n){var r=n(3);e.exports=(r.default||r).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var a,o=this.lambda,i=this.escapeExpression;return'<form id="delete-custom-measure-form">\n  <div class="modal-head">\n    <h2>Delete Custom Measure</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    Are you sure you want to delete custom measure "'+i(o(null!=(a=null!=e?e.metric:e)?a.name:a,e))+'"?\n  </div>\n  <div class="modal-foot">\n    <button id="delete-custom-measure-submit" class="button-red">Delete</button>\n    <a href="#" class="js-modal-close" id="delete-custom-measure-cancel">Cancel</a>\n  </div>\n</form>\n'},useData:!0})},1575:function(e,t,n){var r=n(3);e.exports=(r.default||r).template({1:function(e,t,n,r){return"Update"},3:function(e,t,n,r){return"Create"},5:function(e,t,n,r,a){
var o,i="";return o=t.if.call(e,null!=e?e.canCreateMetric:e,{name:"if",hash:{},fn:this.program(6,r,a),inverse:this.program(10,r,a),data:r}),null!=o&&(i+=o),i},6:function(e,t,n,r,a){var o,i='        <div class="modal-field">\n          <label for="create-custom-measure-metric">Metric<em class="mandatory">*</em></label>\n          <select id="create-custom-measure-metric" name="metric" required>\n';return o=t.each.call(e,null!=e?e.metrics:e,{name:"each",hash:{},fn:this.program(7,r,a),inverse:this.noop,data:r}),null!=o&&(i+=o),i+"          </select>\n        </div>\n"},7:function(e,t,r,a,o){var i,s=this.lambda,u=this.escapeExpression,l='              <option value="'+u(s(null!=e?e.id:e,e))+'" ';return i=n(11).call(e,null!=e?e.id:e,null!=(i=null!=o[1]?o[1].metric:o[1])?i.id:i,{name:"eq",hash:{},fn:this.program(8,a,o),inverse:this.noop,data:a}),null!=i&&(l+=i),l+">"+u(s(null!=e?e.name:e,e))+"</option>\n"},8:function(e,t,n,r){return"selected"},10:function(e,t,r,a){var o=this.escapeExpression;return'        <div class="alert alert-warning">'+o(n(1).call(e,"custom_measures.all_metrics_taken",{name:"t",hash:{},data:a}))+"</div>\n"},12:function(e,t,n,r){return"disabled"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r,a){var o,i=this.lambda,s=this.escapeExpression,u='<form id="create-custom-measure-form" autocomplete="off">\n  <div class="modal-head">\n    <h2>';return o=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(1,r,a),inverse:this.program(3,r,a),data:r}),null!=o&&(u+=o),u+=' Custom Measure</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n\n',o=t.unless.call(e,null!=e?e.id:e,{name:"unless",hash:{},fn:this.program(5,r,a),inverse:this.noop,data:r}),null!=o&&(u+=o),u+='\n    <div class="modal-field">\n      <label for="create-custom-measure-value">Value<em class="mandatory">*</em></label>\n      <input id="create-custom-measure-value" name="value" type="text" maxlength="200" required value="'+s(i(null!=e?e.value:e,e))+'">\n    </div>\n\n    <div class="modal-field">\n      <label for="create-custom-measure-description">Description</label>\n      <textarea id="create-custom-measure-description" name="description">'+s(i(null!=e?e.description:e,e))+'</textarea>\n    </div>\n  </div>\n  <div class="modal-foot">\n    <button id="create-custom-measure-submit" ',o=t.unless.call(e,null!=e?e.canCreateMetric:e,{name:"unless",hash:{},fn:this.program(12,r,a),inverse:this.noop,data:r}),null!=o&&(u+=o),u+=">\n      ",o=t.if.call(e,null!=e?e.id:e,{name:"if",hash:{},fn:this.program(1,r,a),inverse:this.program(3,r,a),data:r}),null!=o&&(u+=o),u+'\n    </button>\n    <a href="#" class="js-modal-close" id="create-custom-measure-cancel">Cancel</a>\n  </div>\n</form>\n'},useData:!0,useDepths:!0})},1576:function(e,t,n){var r=n(3);e.exports=(r.default||r).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,r,a){var o=this.escapeExpression;return'<header class="page-header">\n  <h1 class="page-title">'+o(n(1).call(e,"custom_measures.page",{name:"t",hash:{},data:a}))+'</h1>\n  <div class="page-actions">\n    <div class="button-group">\n      <button id="custom-measures-create">'+o(n(1).call(e,"create",{name:"t",hash:{},data:a}))+'</button>\n    </div>\n  </div>\n  <p class="page-description">'+o(n(1).call(e,"custom_measures.page.description",{name:"t",hash:{},data:a}))+"</p>\n</header>\n"},useData:!0})},1577:function(e,t,n){var r=n(3);e.exports=(r.default||r).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="page page-limited">\n  <div id="custom-measures-header"></div>\n  <div id="custom-measures-list"></div>\n  <div id="custom-measures-list-footer"></div>\n</div>\n'},useData:!0})},1578:function(e,t,n){var r=n(3);e.exports=(r.default||r).template({1:function(e,t,n,r){return'    <a id="custom-measures-fetch-more" class="spacer-left" href="#">show more</a>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var a,o,i="function",s=t.helperMissing,u=this.escapeExpression,l='<footer class="spacer-top note text-center">\n  '+u((o=null!=(o=t.count||(null!=e?e.count:e))?o:s,typeof o===i?o.call(e,{name:"count",hash:{},data:r}):o))+"/"+u((o=null!=(o=t.total||(null!=e?e.total:e))?o:s,typeof o===i?o.call(e,{name:"total",hash:{},data:r}):o))+" shown\n";return a=t.if.call(e,null!=e?e.more:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=a&&(l+=a),l+"</footer>\n"},useData:!0})},1579:function(e,t,n){var r=n(3);e.exports=(r.default||r).template({1:function(e,t,r,a){var o=this.escapeExpression;return'      <span class="js-custom-measure-pending badge badge-warning spacer-left"\n            title="'+o(n(1).call(e,"custom_measures.pending_tooltip",{name:"t",hash:{},data:a}))+'"\n            data-toggle="tooltip" data-placement="bottom">'+o(n(1).call(e,"custom_measures.pending",{name:"t",hash:{},data:a}))+"</span>\n"},3:function(e,t,r,a){var o=this.escapeExpression;return'    Updated on <span class="js-custom-measure-created-at">'+o(n(103).call(e,null!=e?e.updatedAt:e,{name:"d",hash:{},data:a}))+"</span>\n"},5:function(e,t,r,a){var o=this.escapeExpression;return'    Created on <span class="js-custom-measure-created-at">'+o(n(103).call(e,null!=e?e.createdAt:e,{name:"d",hash:{},data:a}))+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,r,a){var o,i=this.lambda,s=this.escapeExpression,u='<td class="nowrap">\n  <div>\n    <span class="js-custom-measure-metric-name">'+s(i(null!=(o=null!=e?e.metric:e)?o.name:o,e))+"</span>\n";return o=t.if.call(e,null!=e?e.pending:e,{name:"if",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=o&&(u+=o),u+='  </div>\n  <span class="js-custom-measure-domain note">'+s(i(null!=(o=null!=e?e.metric:e)?o.domain:o,e))+'</span>\n</td>\n\n<td class="nowrap">\n  <strong class="js-custom-measure-value">'+s(n(18).call(e,null!=e?e.value:e,null!=(o=null!=e?e.metric:e)?o.type:o,{name:"formatMeasure",hash:{},data:a}))+'</strong>\n</td>\n\n<td class="">\n  <span class="js-custom-measure-description">'+s(i(null!=e?e.description:e,e))+'</span>\n</td>\n\n<td class="">\n',o=t.if.call(e,null!=e?e.updatedAt:e,{name:"if",hash:{},fn:this.program(3,a),inverse:this.program(5,a),data:a}),null!=o&&(u+=o),u+'  by <span class="js-custom-measure-user">'+s(i(null!=(o=null!=e?e.user:e)?o.name:o,e))+'</span>\n</td>\n\n<td class="thin nowrap">\n  <a class="js-custom-measure-update icon-edit" title="Update" data-toggle="tooltip" href="#"></a>\n  <a class="js-custom-measure-delete icon-delete" title="Delete" data-toggle="tooltip" href="#"></a>\n</td>\n'},useData:!0})},1580:function(e,t,n){var r=n(3);e.exports=(r.default||r).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<table class="data zebra">\n  <thead>\n  <tr>\n    <th>Metric</th>\n    <th>Value</th>\n    <th>Description</th>\n    <th>Date</th>\n    <th>&nbsp;</th>\n  </tr>\n  </thead>\n  <tbody></tbody>\n</table>\n'},useData:!0})}});